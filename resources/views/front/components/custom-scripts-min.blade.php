<script>$("#location").autocomplete({source: function(request, response){var search_url="{{route('front.home.location.search')}}"; search_url=search_url + '/' + $('#location').val(); $('#location').next("input").removeAttr('value'); $.ajax({url: search_url, type: "GET", success: function(data){response($.map(data, function(item){var object=new Object(); if (item.parent){if (item.parent.parent){if (item.parent.parent.parent){object.label=(item.parent.parent.value ? item.parent.parent.value : item.parent.parent.default_value) + ',' + (item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}else{object.label=(item.parent.parent.value ? item.parent.parent.value : item.parent.parent.default_value) + ',' + (item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}}else{object.label=(item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}}else{object.label=(item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}object.id=item.id; return object;}));}});}, select: function(event, ui){this.value=ui.item.label; $('#location').val(ui.item.value); $(this).next("input").val(ui.item.id); event.preventDefault();}});</script><script>$("#location_buy_form").autocomplete({source: function(request, response){var search_url="{{route('front.home.location.search')}}"; search_url=search_url + '/' + $('#location_buy_form').val(); $('#location_buy_form').next("input").removeAttr('value'); $.ajax({url: search_url, type: "GET", success: function(data){response($.map(data, function(item){var object=new Object(); if (item.parent){if (item.parent.parent){if (item.parent.parent.parent){object.label=(item.parent.parent.value ? item.parent.parent.value : item.parent.parent.default_value) + ',' + (item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}else{object.label=(item.parent.parent.value ? item.parent.parent.value : item.parent.parent.default_value) + ',' + (item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}}else{object.label=(item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}}else{object.label=(item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}object.id=item.id; return object;}));}});}, select: function(event, ui){this.value=ui.item.label; $('#location_buy_form').val(ui.item.value); $(this).next("input").val(ui.item.id); event.preventDefault();}});</script><script>$("#location_rent_form").autocomplete({source: function(request, response){var search_url="{{route('front.home.location.search')}}"; search_url=search_url + '/' + $('#location_rent_form').val(); $('#location_rent_form').next("input").removeAttr('value'); $.ajax({url: search_url, type: "GET", success: function(data){response($.map(data, function(item){var object=new Object(); if (item.parent){if (item.parent.parent){if (item.parent.parent.parent){object.label=(item.parent.parent.value ? item.parent.parent.value : item.parent.parent.default_value) + ',' + (item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}else{object.label=(item.parent.parent.value ? item.parent.parent.value : item.parent.parent.default_value) + ',' + (item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}}else{object.label=(item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}}else{object.label=(item.parent.value ? item.parent.value : item.parent.default_value) + ',' + (item.value ? item.value : item.default_value); object.value=object.label;}object.id=item.id; return object;}));}});}, select: function(event, ui){this.value=ui.item.label; $('#location_rent_form').val(ui.item.value); $(this).next("input").val(ui.item.id); event.preventDefault();}});</script><script>$('.contact-from').on('click', function(){var form=$(this).closest('form'); if (!form.parsley().isValid()){$('.messages').empty(); $('#notification').css('background-color', 'red'); $('#notification .messages').append(`<span>` + "{{trans('main.oh_snap_change_a_few_thing_up_and_try_submitting_again')}}" + `</span> <br>`); $('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');}); form.find('[data-parsley-type]').each(function(i, v){$(this).parsley().validate({focusInvalid: false, invalidHandler: function(){$(this).find(":input.error:first").focus();}}); return;}); form.find('[data-parsley-pattern]').each(function(i, v){$(this).parsley().validate({focusInvalid: false, invalidHandler: function(){$(this).find(":input.error:first").focus();}}); return;}); form.parsley().validate({focusInvalid: false, invalidHandler: function(){$(this).find(":input.error:first").focus();}}); return;}var url="{{route('contact_us.contact_us.store')}}"; var data=$('.form-contact').serialize(); var headers={'content-type': 'appliction/json'}; $.blockUI({overlayColor: "#000000", type: "loader", state: "success", message: "{{trans('main.please_wait')}}"}); $.post(url, data, headers).done(function(response){$.unblockUI(); if (response.message){$('.messages').empty(); if (response.status){$('#notification').css('background-color', 'green');}else{$('#notification').css('background-color', 'red');}$('#notification .messages').append(`<span>` + response.message + `</span> <br>`); $('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');}); setTimeout(function(){$('#notification').fadeOut('slow');}, 2000);}}).fail(function(xhr, error_text, statusText){$.unblockUI(); $('.messages').empty(); $('#notification').css('background-color', 'red'); if (xhr.responseJSON && xhr.responseJSON.errors){$.each(xhr.responseJSON.errors, function(index, error){$('#notification .messages').append(`<span>` + error.message + `</span> <br>`);});}else{$('#notification .messages').append(`<span>` + statusText + `</span> <br>`);}$('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');});});});</script><script>$('.add-to-compare').on('click', function(e){e.preventDefault(); var url="{{route('compare.store')}}"; var data={"_token": "{{csrf_token()}}", 'unit_id': $(this).attr('unit-id')}; var headers={'content-type': 'appliction/json'}; $.post(url, data, headers).done(function(response){if (response.message){$('.messages').empty(); if (response.status){$('#notification').css('background-color', 'green');}else{$('#notification').css('background-color', 'red');}$('#notification .messages').append(`<span>` + response.message + `</span> <br>`); $('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');}); setTimeout(function(){$('#notification').fadeOut('slow');}, 2000);}var get_new_compare="{{route('front.compares')}}"; $.get(get_new_compare).done(function(res){$('.compare-div').empty().html(res);});}).fail(function(xhr, error_text, statusText){$('.messages').empty(); $('#notification').css('background-color', 'red'); if (xhr.responseJSON && xhr.responseJSON.errors){$.each(xhr.responseJSON.errors, function(index, error){$('#notification .messages').append(`<span>` + error.message + `</span> <br>`);});}else{$('#notification .messages').append(`<span>` + statusText + `</span> <br>`);}$('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');});});});</script><script>$('.favorites-add').on('click', function(){var url="{{route('favorites.store')}}"; var data={"_token": "{{csrf_token()}}", 'unit_id': $(this).attr('unit-id')}; var headers={'content-type': 'appliction/json'}; $.post(url, data, headers).done(function(response){if (response.message){$('.messages').empty(); if (response.status){$('#notification').css('background-color', 'green');}else{$('#notification').css('background-color', 'red');}$('#notification .messages').append(`<span>` + response.message + `</span> <br>`); $('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');}); setTimeout(function(){$('#notification').fadeOut('slow');}, 2000);}}).fail(function(xhr, error_text, statusText){$('.messages').empty(); $('#notification').css('background-color', 'red'); if (xhr.responseJSON && xhr.responseJSON.errors){$.each(xhr.responseJSON.errors, function(index, error){$('#notification .messages').append(`<span>` + error.message + `</span> <br>`);});}else{$('#notification .messages').append(`<span>` + statusText + `</span> <br>`);}$('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');});});});</script><script>$('.rating-input').on('click', function(e){var url="{{route('ratings.store')}}"; var data={"_token": "{{csrf_token()}}", 'rateable_type': $(this).closest('div.rating').find("input[name='rateable_type']").val(), 'rateable_id': $(this).closest('div.rating').find("input[name='rateable_id']").val(), 'rate': $(this).val()}; var headers={'content-type': 'appliction/json'}; $.post(url, data, headers).done(function(response){if (response.message){$('.messages').empty(); if (response.status){$('#notification').css('background-color', 'green');}else{$('#notification').css('background-color', 'red');}$('#notification .messages').append(`<span>` + response.message + `</span> <br>`); $('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');}); setTimeout(function(){$('#notification').fadeOut('slow');}, 2000);}}).fail(function(xhr, error_text, statusText){$('.messages').empty(); $('#notification').css('background-color', 'red'); if (xhr.responseJSON && xhr.responseJSON.errors){$.each(xhr.responseJSON.errors, function(index, error){$('#notification .messages').append(`<span>` + error.message + `</span> <br>`);});}else{$('#notification .messages').append(`<span>` + statusText + `</span> <br>`);}$('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');});});});</script><script>function getPurposePurposeTypes(i_purpose_id, div_id=null){if (!div_id){div_id='i_purpose_type_id';}if (!Array.isArray(i_purpose_id)){return;}if (i_purpose_id && Array.isArray(i_purpose_id) && !i_purpose_id.length){$('#' + div_id).empty(); $("#" + div_id).selectpicker("refresh"); return;}$('#' + div_id).empty(); $("#" + div_id).selectpicker("refresh"); $.ajax({url: "{{route('inventory.purpose_types.GetIPurposePurposeTypes')}}", type: "GET", data:{i_purpose_id: i_purpose_id}, success: function(response){if (response.status){$('#' + div_id).append($('<option>',{value: "", text: "{{__('inventory::inventory.select_purpose_type')}}"})); $.each(response.data, function(i, purpose_type){$('#' + div_id).append($('<option>',{value: purpose_type.id, text: purpose_type.purpose_type}));}); $('#' + div_id).selectpicker("refresh");}}, error: function(xhr, error_text, statusText){$('.messages').empty(); $('#notification').css('background-color', 'red'); if (xhr.responseJSON && xhr.responseJSON.errors){$.each(xhr.responseJSON.errors, function(index, error){$('#notification .messages').append(`<span>` + error.message + `</span> <br>`);});}else{$('#notification .messages').append(`<span>` + statusText + `</span> <br>`);}$('#notification').fadeIn("slow"); $('.dismiss').click(function(){$('#notification').fadeOut('slow');});}});}</script>